@import 'aos/dist/aos.css';
@import '../public/fonts/s-core-dream.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: 'S-CoreDream', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  /* 모바일에서 터치 최적화 (텍스트 선택은 허용) */
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  /* 수평 스크롤 및 오버스크롤 방지 */
  overflow-x: hidden;
  overscroll-behavior-x: none;
}

/* 클릭 가능한 요소들만 텍스트 선택 허용 */
a, button, [role="button"], .select-text {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}

/* 복사 버튼 터치 최적화 */
button {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* 전체 컨테이너 수평 스크롤 방지 */
html, body {
  overflow-x: hidden;
  position: relative;
  /* 부드러운 스크롤 활성화 */
  scroll-behavior: smooth;
}

/* 모바일에서 탭 하이라이트 제거 */
* {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}

/* 입력 필드는 선택 가능하도록 */
input, textarea, [contenteditable] {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .animation-delay-1000 {
    animation-delay: 1s;
  }
  
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  
  .animation-delay-4000 {
    animation-delay: 4s;
  }
  
  /* 커스텀 그라디언트 효과 */
  .gradient-text {
    @apply bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent;
  }
  
  /* 글래스모피즘 효과 */
  .glass {
    @apply backdrop-blur-md bg-white/10 border border-white/20;
  }
  
  /* 부드러운 그림자 */
  .soft-shadow {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  /* 네비게이션 그라데이션 경계선 효과 */
  .nav-gradient-border::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, 
      rgba(16, 185, 129, 0.8) 0%, 
      rgba(5, 150, 105, 0.9) 25%, 
      rgba(6, 182, 212, 0.8) 50%, 
      rgba(14, 116, 144, 0.9) 75%, 
      rgba(16, 185, 129, 0.8) 100%);
    opacity: 0.6;
    transition: opacity 0.3s ease;
  }

  .nav-gradient-border.scrolled::after {
    opacity: 1;
    height: 4px;
    background: linear-gradient(90deg, 
      rgba(16, 185, 129, 1) 0%, 
      rgba(5, 150, 105, 1) 25%, 
      rgba(6, 182, 212, 0.9) 50%, 
      rgba(14, 116, 144, 1) 75%, 
      rgba(16, 185, 129, 1) 100%);
  }

  /* 모바일에서 nav 최적화 */
  @media screen and (max-width: 768px) {
    .nav-gradient-border::after {
      height: 2px;
    }
    .nav-gradient-border.scrolled::after {
      height: 3px;
    }
  }

  /* 모바일 터치 최적화 */
  .touch-optimized {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
}

/* 모바일 뷰포트 설정 */
@media screen and (max-width: 768px) {
  html {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }
  
  body {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: none;
  }
}

/* iOS Safari 특별 처리 */
@supports (-webkit-touch-callout: none) {
  .ios-select-fix {
    -webkit-user-select: none;
    -webkit-touch-callout: none;
  }
}

/* 스크롤 투 탑 버튼 애니메이션 */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOutDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(30px);
  }
}

/* 스크롤 투 탑 버튼 기본 스타일 */
.scroll-to-top {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* 펄스 애니메이션 */
@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(16, 185, 129, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
  }
}

.scroll-to-top:hover {
  animation: pulse 2s infinite;
}

/* 모바일에서 더 큰 터치 영역 */
@media screen and (max-width: 768px) {
  .scroll-to-top {
    padding: 1rem;
    bottom: 1.5rem;
    right: 1.5rem;
  }
  
  /* 모바일에서는 터치 시에만 펄스 효과 */
  .scroll-to-top:active {
    animation: pulse 0.3s ease-out;
  }
}
